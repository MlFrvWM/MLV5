local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Kavo-UI-Library/main/source.lua"))()
local Window = Library.CreateLib("SN PRIVATE V5", "Ocean")

local player = game.Players.LocalPlayer
local rs = game:GetService("ReplicatedStorage")
local remote = rs:WaitForChild("RemoteEvent")
local whitelist = {}
local selectedTarget = nil
local currentPlayers = {}

local vu = game:GetService("VirtualUser")
player.Idled:Connect(function()
   vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
   task.wait(1)
   vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
end)

local function killPlayer(target)
    if target and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame
        remote:FireServer("AttackPlayer", target)
    end
end

local function isWhitelisted(target)
    return whitelist[target.Name] == true
end

local MainTab = Window:NewTab("Combat")
local MainSection = MainTab:NewSection(" Combate")

MainSection:NewToggle("Kill All", "Ataca todos (exceto whitelist)", function(state)
    _G.KillAll = state
    while _G.KillAll do
        for _, target in pairs(game.Players:GetPlayers()) do
            if target ~= player and target.Character and not isWhitelisted(target) then
                killPlayer(target)
            end
        end
        task.wait(1)
    end
end)

local dropdown
local function updatePlayerList()
    local newList = {}
    for _, p in pairs(game.Players:GetPlayers()) do
        if p ~= player then
            table.insert(newList, p.Name)
        end
    end
    currentPlayers = newList
    if dropdown then
        dropdown:Refresh(newList)
    end
end

dropdown = MainSection:NewDropdown("Selecionar jogador", "Escolha um jogador", currentPlayers, function(name)
    selectedTarget = game.Players:FindFirstChild(name)
end)

task.spawn(function(
    while true do
        updatePlayerList()
        task.wait(5)
    end
end)

MainSection:NewButton("Kill Target", "Mata jogador selecionado", function()
    if selectedTarget then
        killPlayer(selectedTarget)
    end
end)

MainSection:NewButton("Whitelist Target", "Protege jogador", function()
    if selectedTarget then
        whitelist[selectedTarget.Name] = true
    end
end)

MainSection:NewButton("Unwhitelist Target", "Remove proteção", function()
    if selectedTarget then
        whitelist[selectedTarget.Name] = nil
    end
end)

MainSection:NewToggle("Auto Punch (sem animação)", "Soco automático", function(state)
    _G.AutoPunch = state
    while _G.AutoPunch do
        remote:FireServer("GainStrength")
        task.wait(0.1)
    end
end)

MainSection:NewToggle("Auto Equip Punch", "Equipa ferramenta automaticamente", function(state)
    _G.AutoEquip = state
    while _G.AutoEquip do
        local tool = player.Backpack:FindFirstChild("Punch") or player.Backpack:FindFirstChildWhichIsA("Tool")
        if tool then
            player.Character.Humanoid:EquipTool(tool)
        end
        task.wait(1)
    end
end)

local TeleportTab = Window:NewTab("Teleports")
local TeleportSection = TeleportTab:NewSection("Ilhas")

local islands = {
    ["Tiny Island"] = Vector3.new(-1019, 22, -1593),
    ["Frost Island"] = Vector3.new(-1096, 13, -1956),
    ["Mythical Island"] = Vector3.new(-1100, 13, -2325),
    ["Eternal Island"] = Vector3.new(-1160, 13, -2655),
    ["Muscle King"] = Vector3.new(-1150, 13, -3005),
    ["Jungle Island"] = Vector3.new(-1200, 13, -3300)
}

for name, pos in pairs(islands) do
    TeleportSection:NewButton(name, "Teleporta para " .. name, function()
        player.Character.HumanoidRootPart.CFrame = CFrame.new(pos)
    end)
end
